<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Journey of Us</title>
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link rel="stylesheet" href="{% static 'css/chapter1.css' %}">
  <link rel="stylesheet" href="{% static 'css/chapter2.css' %}">
  <link rel="stylesheet" href="{% static 'css/chapter3.css' %}">
</head>

<body>
  <main>
    <!-- Chapter 1 -->
    <section id="chapter1" class="chapter">
      <div id="welcome-page" class="page">
        <h1>Welcome to our Journey</h1>
        <p>A collection of our best memories, just for you.</p>
        <button id="next-button">Start the Journey</button>
      </div>

      {% for memory in memories %}
      <div id="{{ forloop.counter }}-page" class="page hidden">
        <h2>{{ memory.title }}</h2>
        <p>{{ memory.description }}</p>
        <div class="collage">
          {% for image in memory.images.all %}
          <div class="collage-item">
            <img src="{{ image.image.url }}" alt="{{ memory.title }}">
            {% if image.comment %}
            <div class="image-comment">{{ image.comment }}</div>
            {% endif %}
          </div>
          {% endfor %}
        </div>
        <div class="navigation-buttons">
          {% if not forloop.first %}
          <button class="prev-page">Prev</button>
          {% endif %}
          <button class="next-page">Next</button>
        </div>
      </div>
      {% endfor %}

      <div id="end-of-chapter1" class="page hidden">
        <h2>And that's just the beginning...</h2>
        <p>...click below to continue our journey.</p>
        <button class="next-chapter" data-target="chapter2">Go to Chapter 2</button>
      </div>
    </section>

    <!-- Chapter 2 -->
    <section id="chapter2" class="chapter hidden">
      <div class="page">
        <h2>My Appreciation to You</h2>
        <p>This section is all about the little things I love about you.</p>
        <div class="collage">
          {% for image in appreciation_images %}
          <div class="collage-item">
            <img src="{{ image.image.url }}" alt="Appreciation Image">
            {% if image.comment %}
            <div class="image-comment">{{ image.comment }}</div>
            {% endif %}
          </div>
          {% endfor %}
        </div>
        <div class="navigation-buttons">
          <button class="prev-chapter" data-target="chapter1">Prev Chapter</button>
          <button class="next-chapter" data-target="chapter3">Next Chapter</button>
        </div>
      </div>
    </section>

    <!-- Chapter 3 -->
    <section id="chapter3" class="chapter hidden">
      <div class="page">
        <h2>A Letter for You</h2>
        <div class="letter-content">
          <p>My dearest...</p>
          <p>This is where your personal letter will go. You can write your heartfelt message here, surrounded by the
            beautiful design.</p>
        </div>
        <div class="navigation-buttons">
          <button class="prev-chapter" data-target="chapter2">Prev Chapter</button>
          <button class="return-home">Back to Start</button>
        </div>
      </div>
    </section>

  </main>

  <script src="{% static 'js/script.js' %}"></script>
</body>

</html>
